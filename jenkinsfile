pipeline{
agent none
environment {
  branch = 'main'
  git_repo = "https://github.com/vinay542486/central-repo-c-project.git"
}
parameters {
  string{defaultValue: 'main', description: 'enter the branch to build', name: 'branch'}
  string{defaultValue: 'https://github.com/vinay542486/testrepo.git', description: 'enter the repo url', name: 'git_repo'}
}
stages{
  stage('all') {
  parallel {
      stage ('BUILD') {
        agent any
         steps {
           sh '''
           echo "this is to test build stage"
           echo "$branch"
           '''
        }
      }
      stage ('DEPLOY') {
        agent { label 'lab2' }
        steps {
           echo "this is to test deploy stage"
        }
      }
      stage ('TESTING1') {
        agent any
        steps {
           sh '''
           echo "this is to test testing stage"
           echo "$git_repo"
           '''
        }
      }
      stage ('TESTING2') {
        agent { label 'master' }
        steps {
           echo "this is to test testing2 stage"
        }
      }
      }
}       
}
}
